using System;

namespace Homework_2
{
	internal class Program
	{
		static void Main(string[] args)
		{
			string userInput = "";
			string[] fullNameArray = new string[0];
			string[] positionArray = new string[0];

			while (userInput != "5")
			{
				Console.Clear();
				Console.WriteLine("1 - Добавить досье\n2 - Вывести все досье\n3 - Удалить досье\n4 - Поиск по фамилии\n5 - Выход.");
				Console.Write("Выберите пункт меню:");
				userInput = Console.ReadLine();

				switch (userInput)
				{
					case "1":
						AddPerson(ref fullNameArray, ref positionArray);
						break;
					case "2":
						ShowInfo(fullNameArray, positionArray);
						break;
					case "3":
						DeletePersonFromDataBase(ref fullNameArray, ref positionArray);
						break;
					case "4":
						SearchBySurname(fullNameArray, positionArray);
						break;
				}
			}
		}

		static string[] AddPerson(ref string[] fullNameArray, ref string[] positionArray)
		{
			Console.WriteLine("Введите ФИО:");
			string fullName = Console.ReadLine();
			fullNameArray = SetPersonalInformation(fullNameArray, fullName);
			Console.WriteLine("Введите должность:");
			string position = Console.ReadLine();
			positionArray = SetPersonalInformation(positionArray, position);			
			Console.WriteLine("Досье добавлено");
			Console.ReadKey();
			return positionArray;

			static string[] SetPersonalInformation(string[] array, string addedInformation)
			{
				string[] temporaryArray = new string[array.Length + 1];

				for (int i = 0; i < array.Length; i++)
				{
					temporaryArray[i] = array[i];
				}

				temporaryArray[temporaryArray.Length - 1] = addedInformation;
				array = temporaryArray;
				return array;
			}
		}
		static void ShowInfo(string[] array, string[] array2)
		{
			for (int i = 0; i < array.Length; i++)
			{
				Console.WriteLine((i + 1) + ". " + array[i] + " - " + array2[i]);
			}
			Console.ReadKey();
		}

		static string[] DeletePersonFromDataBase(ref string[] fullNameArray, ref string[] positionArray)
		{
			Console.Write("Введите порядковый номер досье, которое хотите удалить:");
			int indexToDelete = Convert.ToInt32(Console.ReadLine());
			fullNameArray = DeleteInfo(fullNameArray, indexToDelete);
			positionArray = DeleteInfo(positionArray, indexToDelete);
			Console.WriteLine("Досье #" + indexToDelete + " успешно удалено.");
			Console.ReadKey();
			return fullNameArray;

			static string[] DeleteInfo(string[] array, int indexToDelete)
			{
				indexToDelete--;
				string[] temporaryArray = new string[array.Length - 1];

				for (int i = 0; i < indexToDelete; i++)
				{
					temporaryArray[i] = array[i];
				}

				for (int i = indexToDelete + 1; i < array.Length; i++)
				{
					temporaryArray[i - 1] = array[i];
				}

				array = temporaryArray;
				return array;
			}
		}

		static void SearchBySurname(string[] array, string[] array2)
		{
			Console.Write("Введите фамилию, которую необходимо найти:");
			string searchingSurname = Console.ReadLine();

			for (int i = 0; i < array.Length; i++)
			{
				if (array[i].Contains(searchingSurname))
				{
					Console.WriteLine((i + 1) + ". " + array[i] + " - " + array2[i]);
				}
			}

			Console.ReadKey();
		}
	}
}
